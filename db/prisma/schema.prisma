generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x", "linux-musl", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum Status {
  INITIAL // on create
  SUCCESS
  FAILED
  PENDING
  REVIEW
}

enum States {
  DEFAULT
  PROCESSING
}

model payments {
  id          String   @id @default(uuid())
  paymentId   String // auto generated with a pattern
  worldlineId String // worldline id
  storeId     String   @db.VarChar(255)
  cartId      String   @db.VarChar(255)
  orderId     String   @db.VarChar(255)
  status      Status   @default(INITIAL)
  state       States   @default(DEFAULT)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@unique(id)
  @@unique(paymentId)
}
